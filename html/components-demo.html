<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Showcase - AI Tech Knowledge Base</title>

    <link rel="stylesheet" href="/public/css/styles.css">
    <link rel="stylesheet" href="components/avatar-uploader.css">
    <link rel="stylesheet" href="components/notification.css">
    <link rel="stylesheet" href="components/community-interaction.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2103/2103652.png" type="image/png">
    <script src="../public/js/main.js" defer></script>
    <script src="../public/js/auth.js" defer></script>

    <script src="components/avatar-uploader.js" defer></script>
    <script src="components/notification.js" defer></script>
    <script src="components/theme-switcher.js" defer></script>
    <script src="components/community-interaction.js" defer></script>
    <style>
        .demo-section {
            margin-bottom: var(--spacing-2xl);
            padding: var(--spacing-lg) var(--spacing-xl); /* Reduced top/bottom padding */
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-md);
        }

        .demo-title {
            font-size: 1.5rem;
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-xs);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .demo-title i {
            color: var(--primary-color);
        }

        .demo-description {
            margin-bottom: var(--spacing-lg);
            color: var(--text-secondary);
        }

        .demo-controls {
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            flex-wrap: wrap;
        }

        .demo-btn {
            padding: 8px 16px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius-md);
            cursor: pointer;
            transition: var(--transition-base);
            display: inline-flex; /* Changed to inline-flex */
            align-items: center;
            gap: 8px;
        }

        .demo-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Slightly reduced padding for content */
        .demo-content {
            padding: var(--spacing-md);
            background: var(--bg-secondary);
            border-radius: var(--border-radius-md);
        }

        /* Reduced padding for articles */
        .article-content {
            padding: var(--spacing-md);
            background: var(--bg-secondary);
            border-radius: var(--border-radius-sm); /* Slightly smaller radius */
            margin-bottom: var(--spacing-lg);
        }

        .article-title {
            font-size: 1.2rem;
            margin-bottom: var(--spacing-md);
        }

        .article-text {
            margin-bottom: var(--spacing-sm); /* Reduced margin */
            line-height: 1.6;
        }
    </style>
    <link rel="stylesheet" href="/public/css/sidebar-enhancements.css">
</head>

<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="logo-container">
                <div class="logo-text">
                    <i class="fas fa-microchip"></i>
                    <h2>AI科技库</h2>
                </div>
                <button id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>

            <nav class="main-nav">
                <h3 class="nav-title">Navigation</h3>
                <ul>
                    <li><a href="../index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li class="active"><a href="#"><i class="fas fa-puzzle-piece"></i> Components</a></li>
                    <li><a href="/profile.html"><i class="fas fa-user"></i> Profile</a></li>
                </ul>
            </nav>

            <nav class="component-nav">
                <h3 class="nav-title">Components</h3>
                <ul>
                    <li><a href="#avatar-uploader-demo"><i class="fas fa-user-circle"></i> Avatar Upload</a></li>
                    <li><a href="#notification-demo"><i class="fas fa-bell"></i> Notifications</a></li>
                    <li><a href="#theme-switcher-demo"><i class="fas fa-adjust"></i> Theme Switcher</a></li>
                    <li><a href="#community-interaction-demo"><i class="fas fa-comments"></i> Interactions</a></li>
                </ul>
            </div>
        </aside>
        
        <main class="main-content">
            <div class="header-section">
                <div class="header-content">
                    <div>
                        <h1 class="main-title">Component Showcase</h1>
                        <p class="subtitle">Explore the UI components and interactive features of the AI Tech Knowledge Base.</p>
                    </div>
                </div>
            </div>

            <section id="avatar-uploader-demo" class="demo-section">
                <h2 class="demo-title"><i class="fas fa-user-circle"></i> Avatar Upload</h2>
                <p class="demo-description">支持拖放上传、预览和裁剪功能的头像上传组件。</p>
                
                <div class="demo-content">
                    <div class="avatar-upload-container"></div>
                </div>
            </section>

            <section id="notification-demo" class="demo-section">
                <h2 class="demo-title"><i class="fas fa-bell"></i> Notifications</h2>
                <p class="demo-description">Components for displaying success, error, warning, and information notifications.</p>

                <div class="demo-controls">
                    <button id="show-success-notification" class="demo-btn"><i class="fas fa-check-circle"></i> Success</button>
                    <button id="show-error-notification" class="demo-btn"><i class="fas fa-exclamation-circle"></i> Error</button>
                    <button id="show-warning-notification" class="demo-btn"><i class="fas fa-exclamation-triangle"></i> Warning</button>
                    <button id="show-info-notification" class="demo-btn"><i class="fas fa-info-circle"></i> Info</button>
                </div>
            </section>

            <section id="theme-switcher-demo" class="demo-section">
                <h2 class="demo-title"><i class="fas fa-adjust"></i> Theme Switcher</h2>
                <p class="demo-description">Component for switching between light and dark themes.</p>

                <div class="demo-controls">
                    <button id="toggle-theme-btn" class="demo-btn"><i class="fas fa-moon"></i> Toggle Theme</button>
                </div>

                <div class="demo-content">
                    <p>Current theme: <span id="current-theme">Light</span></p>
                    <p>The theme preference is automatically saved and applied on page load.</p>
                </div>
            </section>

            <section id="community-interaction-demo" class="demo-section">
                <h2 class="demo-title"><i class="fas fa-comments"></i> Community Interactions</h2>
                <p class="demo-description">Components for community interactions: comments, likes, favorites, etc.</p>

                <div class="article-content" data-post-id="demo-post-1">
                    <h3 class="article-title">The Evolution and Applications of Generative AI</h3>
                    <p class="article-text">Generative AI has made groundbreaking progress, particularly with Large Language Models (LLMs) like GPT series, Claude, and Llama, fundamentally changing how we interact with AI. These models can generate high-quality text, images, audio, and video, revolutionizing creative industries, education, and healthcare.</p>
                    <p class="article-text">However, generative AI also presents challenges, including content verification, copyright, and employment impacts. Responsible development and use are crucial for society.</p>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Notification Demos
            const notificationTriggers = {
                'show-success-notification': () => window.notifications.success('Operation successful!'),
                'show-error-notification': () => window.notifications.error('Operation failed. Please try again later.'),
                'show-warning-notification': () => window.notifications.warning('This action cannot be undone.'),
                'show-info-notification': () => window.notifications.info('System maintenance tonight at 10 PM.')
            };

            for (const [id, trigger] of Object.entries(notificationTriggers)) {
                document.getElementById(id).addEventListener('click', () => {
                    if (window.notifications) {
                        trigger();
                    }
                });
            }

            // Theme Switcher Demo
            const toggleThemeBtn = document.getElementById('toggle-theme-btn');
            const currentThemeText = document.getElementById('current-theme');

            const updateThemeDisplay = () => {
                const isDark = document.body.classList.contains('dark-theme');
                currentThemeText.textContent = isDark ? 'Dark' : 'Light';
                toggleThemeBtn.querySelector('i').className = isDark ? 'fas fa-sun' : 'fas fa-moon';
            };

            const setTheme = (theme) => {
                document.body.classList.toggle('dark-theme', theme === 'dark');
                updateThemeDisplay();
                localStorage.setItem('ai_tech_theme', theme);
                if (window.notifications) {
                    window.notifications.info(`Switched to ${theme === 'dark' ? 'Dark' : 'Light'} theme`);
                }
            };

            toggleThemeBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-theme');
                updateThemeDisplay();
                setTheme(document.body.classList.contains('dark-theme') ? 'dark' : 'light');
            });

            updateThemeDisplay();
        });
    </script>
    <script src="../public/js/sidebar-unifier.js" defer></script>
</body>

</html>